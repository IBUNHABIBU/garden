<div class="bg-white shadow overflow-hidden sm:rounded-lg sm:hidden">
  <!-- Header - Hidden on mobile -->
  <div class="bg-gray-50 hidden sm:block">
    <div class="flex">
      <div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</div>
      <div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Country</div>
      <div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Featured</div>
      <div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</div>
    </div>
  </div>
  
  <div class="bg-white divide-y divide-gray-200">
    <% @destinations.each do |destination| %>
      <!-- Mobile Card Layout -->
      <div class="block sm:hidden p-4">
        <div class="flex items-start space-x-4">
          <% if destination.image.attached? %>
            <div class="flex-shrink-0 h-12 w-12">
              <%= image_tag destination.image.variant(resize_to_limit: [100, 100]),
                    loading: "lazy", class: "h-12 w-12 rounded-full" %>
            </div>
          <% end %>
          <div class="flex-1 min-w-0">
            <div class="text-base font-semibold text-gray-900 truncate"><%= destination.name %></div>
            <div class="text-sm text-gray-500 mt-1"><%= destination.country %></div>
            <% if destination.featured? %>
              <span class="mt-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800 px-2 py-1">
                Featured
              </span>
            <% end %>
          </div>
        </div>
        <!-- Action Buttons - Single Row on Mobile -->
        <div class="mt-4 flex justify-between items-center space-x-2">
          <%= link_to 'Show', destination, class: "flex-1 text-center text-green-600 hover:text-green-900 py-2 px-3 border border-green-300 rounded-md hover:bg-green-50 transition-colors" %>
          <% if user_signed_in? %>
            <%= link_to 'Edit', edit_destination_path(destination), class: "flex-1 text-center text-amber-600 hover:text-amber-900 py-2 px-3 border border-amber-300 rounded-md hover:bg-amber-50 transition-colors" %>
            <%= link_to 'Delete', destination, method: :delete, data: { confirm: 'Are you sure?' }, class: "flex-1 text-center text-red-600 hover:text-red-900 py-2 px-3 border border-red-300 rounded-md hover:bg-red-50 transition-colors" %>
          <% end %>
        </div>
      </div>
      
      <!-- Desktop Table Layout -->
      <div class="hidden sm:flex">
        <div class="px-6 py-4 whitespace-nowrap flex-1">
          <div class="flex items-center">
            <% if destination.image.attached? %>
              <div class="flex-shrink-0 h-10 w-10">
                <%= image_tag destination.image.variant(resize_to_limit: [100, 100]),
                      loading: "lazy", class: "h-10 w-10 rounded-full" %>
              </div>
            <% end %>
            <div class="ml-4">
              <div class="text-sm font-medium text-gray-900"><%= destination.name %></div>
            </div>
          </div>
        </div>
        <div class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 flex-1">
          <%= destination.country %>
        </div>
        <div class="px-6 py-4 whitespace-nowrap flex-1 hidden">
          <% if destination.featured? %>
            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800">
              Featured
            </span>
          <% end %>
        </div>
        <div class="px-6 py-4 whitespace-nowrap text-sm font-medium flex-1">
          <%= link_to 'Show', destination, class: "text-green-600 hover:text-green-900 mr-3" %>
          <% if user_signed_in? %>
            <%= link_to 'Edit', edit_destination_path(destination), class: "text-amber-600 hover:text-amber-900 mr-3" %>
            <%= link_to 'Delete', destination, method: :delete, data: { confirm: 'Are you sure?' }, class: "text-red-600 hover:text-red-900" %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>